// ğŸ„ COMANDO: ping NAVIDAD ULTRA DECORADO
import moment from 'moment-timezone'

// ğŸ 100 DECORACIONES NAVIDEÃ‘AS RANDOM
const XMAS_DECO = [
"ğŸ„","ğŸ","âœ¨","â„ï¸","â˜ƒï¸","ğŸ…","ğŸ¦Œ","ğŸ””","ğŸŒŸ","ğŸ§¦","ğŸª","ğŸ¥›","ğŸ•¯ï¸","â›„","ğŸ€","ğŸ¬","ğŸ†","ğŸ§š",
"ğŸŒ²","ğŸ‰","ğŸ«","ğŸ¶","ğŸ“¯","ğŸ¥","ğŸ›·","ğŸ","ğŸŒŒ","â‡ï¸","ğŸŠ","ğŸ§¸","ğŸ°","ğŸ¥§","ğŸ·","ğŸ•¯","ğŸ§£","ğŸ§¤",
"ğŸŒ ","ğŸ”ï¸","â„","ğŸŒ¬ï¸","ğŸ‡","ğŸ§","ğŸ«–","ğŸµ","ğŸ§‚","ğŸ”®","ğŸ•¯","ğŸª„","ğŸ­","ğŸ§µ","ğŸª¢","ğŸª…","ğŸª”","ğŸ’",
"ğŸ•Šï¸","ğŸ“¦","ğŸ¦™","ğŸ¦Š","ğŸ¦","ğŸ¦¢","ğŸ¦‰","ğŸ","ğŸ—ï¸","ğŸŸï¸","ğŸ«","ğŸª™","ğŸ’«","ğŸ±","ğŸ¯","ğŸ›ï¸","ğŸï¸",
"ğŸ“œ","ğŸ“–","ğŸ“š","ğŸ“˜","ğŸ“•","ğŸ“—","ğŸ“™","ğŸ•°ï¸","â³","ğŸ’¡","ğŸ”¦","âœ¨","â­","ğŸŒŸ","ğŸŒˆ","ğŸ’š","â¤ï¸","ğŸ’›",
"ğŸ¤","ğŸ’–","ğŸ’—","ğŸ’","ğŸ’“","ğŸ’Ÿ","â˜˜ï¸","ğŸŒ¿","ğŸŒº","ğŸŒ¸","ğŸª·","ğŸ•Š"
]

// ğŸ„ 100 BORDES NAVIDEÃ‘OS RANDOM
const XMAS_BORDES = [
"ğŸ„â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ„","â„ï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â„ï¸","ğŸâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ","âœ¨â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âœ¨",
"â˜ƒï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â˜ƒï¸","ğŸ””â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ””","ğŸŒŸâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸŒŸ","ğŸ…â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ…",
"ğŸ¦Œâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¦Œ","â›„â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â›„","ğŸ¬â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¬","ğŸ€â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ€",
"ğŸ§¦â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ§¦","ğŸ‰â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ‰","ğŸ°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ°","ğŸ§â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ§",
"ğŸ“¯â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ“¯","ğŸ¥â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¥","ğŸ›·â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ›·","ğŸŒ¨ï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸŒ¨ï¸",
"â‡ï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â‡ï¸","ğŸŒ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸŒ ","ğŸ’â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ’","ğŸ’«â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ’«",
"ğŸª”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸª”","ğŸ•¯ï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ•¯ï¸","ğŸŒŒâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸŒŒ","ğŸ‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ‡",
"ğŸ†â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ†","ğŸâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ","ğŸ«â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ«","ğŸ¶â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¶",
"ğŸ§£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ§£","ğŸ§¤â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ§¤","ğŸ“¦â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ“¦","ğŸ¦™â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¦™",
"ğŸ¦â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¦","ğŸ¦Šâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¦Š","ğŸ¦‰â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¦‰","ğŸ“˜â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ“˜",
"ğŸ“—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ“—","ğŸ“™â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ“™","ğŸ“œâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ“œ","ğŸª„â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸª„",
"ğŸ±â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ±","ğŸ›ï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ›ï¸","ğŸ§µâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ§µ","ğŸª¢â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸª¢",
"ğŸŒ²â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸŒ²","ğŸŠâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸŠ","ğŸª…â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸª…","ğŸ“–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ“–",
"ğŸ§šâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ§š","ğŸª™â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸª™","ğŸ’–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ’–","ğŸ’—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ’—",
"ğŸ’â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ’","ğŸ’“â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ’“","â¤ï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â¤ï¸","ğŸ’šâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ’š",
"ğŸ¤â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ¤","ğŸ•Šï¸â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ğŸ•Šï¸","âœ¨â„ï¸âœ¨â„ï¸âœ¨","ğŸ„âœ¨ğŸâœ¨ğŸ„","â„ï¸â˜ƒï¸â„ï¸â˜ƒï¸â„ï¸","ğŸ€ğŸ’ğŸ€ğŸ’ğŸ€",
"ğŸŒŸğŸ„ğŸŒŸğŸ„ğŸŒŸ","ğŸŒ¨ï¸ğŸ…ğŸŒ¨ï¸ğŸ…ğŸŒ¨ï¸","ğŸğŸ””ğŸğŸ””ğŸ","â„ï¸âœ¨â„ï¸âœ¨â„ï¸","â˜ƒï¸ğŸ„â˜ƒï¸ğŸ„â˜ƒï¸","ğŸ…ğŸğŸ…ğŸğŸ…","ğŸ„â„ï¸ğŸ„â„ï¸ğŸ„",
"âœ¨ğŸ§¦âœ¨ğŸ§¦âœ¨","ğŸ¦ŒğŸŒŸğŸ¦ŒğŸŒŸğŸ¦Œ","ğŸ¬ğŸ„ğŸ¬ğŸ„ğŸ¬","ğŸ€â˜ƒï¸ğŸ€â˜ƒï¸ğŸ€","ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„","â­â„ï¸â­â„ï¸â­","ğŸ…âœ¨ğŸ…âœ¨ğŸ…"
]

// Randomizador
const deco = () => XMAS_DECO[Math.floor(Math.random() * XMAS_DECO.length)]
const border = () => XMAS_BORDES[Math.floor(Math.random() * XMAS_BORDES.length)]

let handler = async (m, { conn }) => {
  try {
    await m.react(deco()) // reacciÃ³n navideÃ±a random

    const botName = typeof global.botname === 'string' ? global.botname : 'SantaBot'
    const uptimeSec = process.uptime()
    const hours = Math.floor(uptimeSec / 3600)
    const minutes = Math.floor((uptimeSec % 3600) / 60)
    const seconds = Math.floor(uptimeSec % 60)
    const uptimeStr = `${hours}h ${minutes}m ${seconds}s`
    const now = moment().tz('America/Bogota').format('YYYY-MM-DD HH:mm:ss')

    // ğŸ„ TEXTO FULL ULTRA NAVIDEÃ‘O
    const txt = `
${border()}
${deco()} *ğŸ… ğ—˜ğ—¦ğ—§ğ—”ğ——ğ—¢ ğ—¡ğ—”ğ—©ğ—œğ——ğ—˜ğ—¡Ìƒğ—¢ ğ——ğ—˜ğ—Ÿ ğ—•ğ—¢ğ—§ ğŸ„* ${deco()}
${border()}

${deco()} *Nombre:* ${botName}  
${deco()} *Tiempo activo:* ${uptimeStr}  
${deco()} *Hora navideÃ±a:* ${now}  

${border()}
${deco()} â€œLa Navidad no es una fechaâ€¦ Â¡es una chispa en el corazÃ³n!â€ â€” ğŸ…âœ¨
${border()}
    `.trim()

    const buttons = [
      { buttonId: '.menu', buttonText: { displayText: `${deco()} ğ•¸ğ–Šğ–“ğ–šÌ ğ•¹ğ–†ğ–›ğ–ğ–‰ğ–Šğ–“Ìƒğ–” ğŸ„` }, type: 1 },
      { buttonId: '.code', buttonText: { displayText: `${deco()} ğ•¾ğ–Šğ–— ğ•¾ğ–šğ–‡ğ–‡ğ–”ğ–™ ğŸ` }, type: 1 }
    ]

    const sentMsg = await conn.sendMessage(
      m.chat,
      {
        text: txt,
        footer: `${deco()} ğ™ğ™–ğ™¡ğ™¡ğ™šğ™§ ğ™‰ğ™–ğ™«ğ™ğ™™ğ™šğ™£Ìƒğ™¤ ğ™™ğ™š SUNKU ğŸ…`,
        buttons,
        headerType: 1
      },
      { quoted: m }
    )

    // Auto-borrado
    setTimeout(async () => {
      try {
        await conn.sendMessage(m.chat, { delete: sentMsg.key })
      } catch (e) {
        console.log('âš ï¸ No se pudo borrar el mensaje de ping:', e)
      }
    }, 2 * 60 * 1000)

    await m.react('âœ…')

  } catch (err) {
    console.error(err)
    await m.react('ğŸ’¥')
    conn.reply(m.chat, `${deco()} ğŸ„ *Error navideÃ±o inesperado*`, m)
  }
}

handler.help = ['ping']
handler.tags = ['info']
handler.command = ['ping', 'p']

export default handler
